const nTextarea=document.getElementById("notecontent"),openMBtn=document.querySelector(".add_note_btn"),cDisplay=document.querySelector(".create_note"),cNote=document.getElementById("cnotecreation"),createNote=document.getElementById("snotecreation"),cTitleValue=document.getElementById("notetitle"),cContentValue=document.getElementById("notecontent"),months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],notes=JSON.parse(localStorage.getItem("nApplic_realdata")||"[]");function disNote(){document.querySelectorAll(".existing_note").forEach(note=>note.remove()),notes.forEach((note,index)=>{let noteDisplayItem=`<div class="existing_note flexible-n">\n            <div class="ex_note_inner">\n                <div class="note_header">\n                    <h2 class="n_h" contenteditable="false">${note.title}</h2>\n                </div>\n                <div class="note_body">\n                    <p class="n_btext"><span class="realtextnote" contenteditable="false">${note.body}</span></p>\n                </div>\n                <div class="noteinfoset">\n                    Created:&nbsp;<span class="notedateinf">${note.date}</span>&nbsp;&nbsp;<span class="notetimeinf">${note.time}</span>\n                </div>\n                <div class="notebuttonset">\n                    <div class="copy_note_btn">\n                        <button class="copy_notepress note_actionbtn nabright" id="copyn" onclick="copyText(this)">\n                            <svg class="side_svg replaceable" xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 48 48"><path d="M39.3 39.7H14.15q-1.65 0-2.825-1.175Q10.15 37.35 10.15 35.7V5.3q0-1.6 1.175-2.775Q12.5 1.35 14.15 1.35h17.1l12 12V35.7q0 1.65-1.175 2.825Q40.9 39.7 39.3 39.7ZM29.2 15.2V5.3H14.15v30.4H39.3V15.2ZM7.15 46.65q-1.6 0-2.775-1.175Q3.2 44.3 3.2 42.7V12h3.95v30.7h25.1v3.95Zm7-41.35v9.9-9.9 30.4V5.3Z"/></svg>\n                            <svg class="side_svg svgreplacer" xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 48 48"><path d="M18.9 35.6q-.4 0-.75-.15T17.5 35l-9.05-9.05q-.6-.6-.6-1.45t.6-1.45q.6-.6 1.425-.6.825 0 1.425.6l7.6 7.6L36.7 12.9q.55-.6 1.375-.6t1.425.6q.6.6.6 1.45t-.6 1.4L20.3 35q-.3.3-.65.45-.35.15-.75.15Z"/></svg>\n                        </button>\n                    </div>\n                    <div class="delete_note_btn">\n                        <button class="delete_notepress note_actionbtn" id="deleten" onclick="confirmerMenu(this)">\n                            <svg class="side_svg del_svg" xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 48 48"><path d="M12.8 42.7q-1.6 0-2.775-1.175Q8.85 40.35 8.85 38.75v-28H6.3v-4h10.6v-2h14.15v2H41.7v4h-2.55v28q0 1.6-1.175 2.775Q36.8 42.7 35.2 42.7Zm22.4-31.95H12.8v28h22.4ZM18 34.65h3.45V14.7H18Zm8.55 0h3.5V14.7h-3.5ZM12.8 10.75v28Z"/></svg>\n                        </button>\n                    </div>\n                </div>\n                <div class="confrimset noact">\n                    <div class="c_ques"><p class="cqeustxt">Delete?</p></div>\n                    <div class="conf_btnset">\n                        <div class="canceldel" id="cdelnote">\n                            <svg class="side_svg cdel" xmlns="http://www.w3.org/2000/svg" onclick="ccMen(this)" height="22" width="22" viewBox="0 0 48 48"><path d="M24 26.8 13.85 36.95q-.6.6-1.4.6-.8 0-1.4-.6-.6-.6-.6-1.4 0-.8.6-1.4L21.2 24 11.05 13.85q-.6-.6-.6-1.4 0-.8.6-1.4.6-.6 1.4-.6.8 0 1.4.6L24 21.2l10.15-10.15q.6-.6 1.4-.6.8 0 1.4.6.6.6.6 1.4 0 .8-.6 1.4L26.8 24l10.15 10.15q.6.6.6 1.4 0 .8-.6 1.4-.6.6-1.4.6-.8 0-1.4-.6Z"/></svg>\n                        </div>\n                        <div class="confirmdel" id="confdelnote">\n                            <svg class="side_svg ydel" xmlns="http://www.w3.org/2000/svg" onclick="deleteNote(${index})" height="22" width="22" viewBox="0 0 48 48"><path d="M18.9 35.6q-.4 0-.75-.15T17.5 35l-9.05-9.05q-.6-.6-.6-1.45t.6-1.45q.6-.6 1.425-.6.825 0 1.425.6l7.6 7.6L36.7 12.9q.55-.6 1.375-.6t1.425.6q.6.6.6 1.45t-.6 1.4L20.3 35q-.3.3-.65.45-.35.15-.75.15Z"/></svg>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>`;document.querySelector(".new_note").insertAdjacentHTML("afterend",noteDisplayItem)})}function confirmerMenu(el){el.parentElement.parentElement.parentElement.querySelector(".confrimset").classList.remove("noact")}function ccMen(el){el.parentElement.parentElement.parentElement.parentElement.querySelector(".confrimset").classList.add("noact")}function copyText(elem){let x,y=elem.parentElement.parentElement.parentElement.querySelector(".realtextnote").innerText;navigator.clipboard.writeText(y),elem.querySelector(".replaceable").classList.add("taskdone"),elem.querySelector(".svgreplacer").classList.add("taskdone"),elem.style.pointerEvents="none",setTimeout((function(){elem.querySelector(".replaceable").classList.remove("taskdone"),elem.querySelector(".svgreplacer").classList.remove("taskdone"),elem.style.pointerEvents="all"}),2e3)}function deleteNote(nIndex){notes.splice(nIndex,1),localStorage.setItem("nApplic_realdata",JSON.stringify(notes)),disNote()}function doneStatus(){const dText=document.querySelector(".add_n_p"),dSvg=document.querySelector(".ssvg_note");openMBtn.classList.remove("cnew"),cDisplay.classList.remove("cnew"),cTitleValue.value="",cContentValue.value="",dText.innerText="Done",dSvg.innerHTML='<path d="M18.9 36.4 7 24.5l2.9-2.85 9 9L38.05 11.5l2.9 2.85Z"/>',dText.classList.add("donestatus"),dSvg.classList.add("donestatus"),openMBtn.classList.add("peno"),setTimeout((function(){dText.innerText="Add note",dSvg.innerHTML='<path d="M22.5 38V25.5H10v-3h12.5V10h3v12.5H38v3H25.5V38Z"/>',dText.classList.remove("donestatus"),dSvg.classList.remove("donestatus"),openMBtn.classList.remove("peno")}),3e3)}nTextarea.onkeydown=e=>{nTextarea.style.height="auto";let scHeight=e.target.scrollHeight;nTextarea.style.height=`${scHeight}px`},openMBtn.onclick=()=>{openMBtn.classList.add("cnew"),cDisplay.classList.add("cnew")},cNote.onclick=()=>{openMBtn.classList.remove("cnew"),cDisplay.classList.remove("cnew"),cTitleValue.value="",cContentValue.value=""},disNote(),createNote.onclick=()=>{let ctv=cTitleValue.value,ccv=cContentValue.value;if(ctv||ccv){function checkTime(v1){return v1<10?"0"+v1:v1}let nDate=new Date,ncm,ncd,ncy,nch,ncmin,noteInfObj={title:ctv,body:ccv,date:`${months[nDate.getMonth()]} ${nDate.getDate()}, ${nDate.getFullYear()}`,time:`${checkTime(nDate.getHours())}:${checkTime(nDate.getMinutes())}`};notes.push(noteInfObj),localStorage.setItem("nApplic_realdata",JSON.stringify(notes)),disNote(),doneStatus()}};
