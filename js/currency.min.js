const list=document.querySelectorAll(".g-select"),goBtn=document.getElementById("exchange_go"),fromCurr=document.querySelector(".boxFROM select"),toCurr=document.querySelector(".boxTO select");for(let i=0;i<list.length;i++)for(currency_code in country_list){let def_sel;0==i?def_sel="CAD"==currency_code?"selected":"":1==i&&(def_sel="EUR"==currency_code?"selected":"");let opt_sel=`<option value="${currency_code}" ${def_sel}>${currency_code}</option>`;list[i].insertAdjacentHTML("beforeend",opt_sel)}goBtn.onclick=e=>{e.preventDefault(),showLoader(),getExchangeGO()};const arrowSvg=document.querySelector(".svg_submit"),loaderSvg=document.querySelector(".svg_loader"),buttonWhole=document.querySelector("#exchange_go"),swapSvg=document.querySelector(".swapper"),loaderSvg2=document.querySelector(".svg_loader2"),swapButton=document.querySelector(".ex_switch");function showLoader(){arrowSvg.classList.add("loading"),loaderSvg.classList.add("loading"),buttonWhole.classList.add("loading")}function showLoader2(){swapSvg.classList.add("loading"),loaderSvg2.classList.add("loading"),swapButton.classList.add("loading")}function hideLoader(){arrowSvg.classList.remove("loading"),loaderSvg.classList.remove("loading"),buttonWhole.classList.remove("loading")}function hideLoader2(){swapSvg.classList.remove("loading"),loaderSvg2.classList.remove("loading"),swapButton.classList.remove("loading")}const swap=document.getElementById("switchcurr");function getExchangeGO(){const amount=document.getElementById("curram");let amountValue=amount.value;""!=amountValue&&"0"!=amountValue||(amount.value="1",amountValue=1);let fetchURL=`https://v6.exchangerate-api.com/v6/513825448ed090be4fd39ed2/latest/${fromCurr.value}`;fetch(fetchURL).then(response=>response.json()).then(result=>{hideLoader(),hideLoader2();let exchRate=result.conversion_rates[toCurr.value],totalExchange=(amountValue*exchRate).toFixed(2);const exText=document.querySelector(".real_pnb");exText.innerText=`${amountValue} ${fromCurr.value} = ${totalExchange} ${toCurr.value}`}).catch(()=>{exText.innerText="Something went wrong!"})}swap.onclick=()=>{showLoader2();let tempCode=fromCurr.value;fromCurr.value=toCurr.value,toCurr.value=tempCode,getExchangeGO()},window.onload=getExchangeGO();
