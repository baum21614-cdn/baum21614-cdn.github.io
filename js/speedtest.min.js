const startBtn=document.getElementById("starttest"),speedSpan=document.getElementById("initspeed"),iDisplay=document.getElementById("mbps_st"),loader=document.querySelector(".testGO"),retryBtn=document.querySelector(".tryAgain");function testDownload(){iDisplay.classList.add("testing"),startBtn.classList.add("testing"),speedSpan.innerText="0.00",loader.classList.add("loading");var imgLink="https://speed.hetzner.de/100MB.bin",fileSize=104857600,timeStart,timeEnd,downloadSrc=new Image,cacheImg="?nn="+(timeStart=(new Date).getTime());downloadSrc.src=imgLink+cacheImg,downloadSrc.onload=()=>{document.querySelector(".go_speedTest").classList.add("retryav"),retryBtn.classList.add("retryav"),loader.classList.remove("loading");var tDur,bytesLoaded=123865280,totalSpeed=(123865280/(((timeEnd=(new Date).getTime())-timeStart)/1e3)/1024/1024).toFixed(2);speedSpan.innerText=totalSpeed}}startBtn.onclick=()=>{testDownload()},retryBtn.onclick=()=>{testDownload()};
