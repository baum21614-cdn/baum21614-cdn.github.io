import{countries}from"https://baum21614-cdn.github.io/js/carray.js";const fromInput=document.getElementById("trlfrom"),toOutput=document.getElementById("trlto"),switchButton=document.getElementById("swlang"),selection=document.querySelectorAll(".def_select"),goButton=document.getElementById("gotranslate");selection.forEach((tag,id)=>{for(let country_code in countries){let selected;0==id&&"en-GB"==country_code?selected="selected":1==id&&"de-DE"==country_code&&(selected="selected");let optFill=`<option value="${country_code}" ${selected}>${countries[country_code]}</option>`;tag.insertAdjacentHTML("beforeend",optFill)}}),switchButton.onclick=()=>{let tmp=fromInput.value,tmpL=selection[0].value;fromInput.value=toOutput.value,selection[0].value=selection[1].value,selection[1].value=tmpL,toOutput.value=tmp},fromInput.onkeyup=()=>{""==fromInput.value?(fromInput.classList.add("invalid"),document.querySelector(".errc_epmtyinp").classList.add("invalid")):(fromInput.classList.remove("invalid"),document.querySelector(".errc_epmtyinp").classList.remove("invalid"))},goButton.onclick=()=>{if(fromInput.classList.remove("invalid"),null==fromInput.value||""==fromInput.value)fromInput.classList.add("invalid"),document.querySelector(".errc_epmtyinp").classList.add("invalid");else{goButton.classList.add("load_submit");let request=fromInput.value,trFrom=selection[0].value,trTo=selection[1].value,tURL;fetch(`https://api.mymemory.translated.net/get?q=${request}&langpair=${trFrom}|${trTo}`).then(response=>response.json()).then(fetchedData=>{toOutput.value=fetchedData.responseData.translatedText,goButton.classList.remove("load_submit")})}};const ttsFrom=document.getElementById("bt_ttsfrom"),ttsTo=document.getElementById("bt_ttsto"),copyFrom=document.getElementById("bt_copytxtfrom"),copyTo=document.getElementById("bt_copytxtto");function fallbackCopyTextToClipboard(copyVal){var textArea=document.createElement("textarea");textArea.value=copyVal,textArea.style.top="0",textArea.style.left="0",textArea.style.position="fixed",document.body.appendChild(textArea),textArea.focus(),textArea.select();try{var successful,msg=document.execCommand("copy")?"successful":"unsuccessful"}catch(err){console.error("Fallback: Oops, unable to copy",err)}document.body.removeChild(textArea)}function copyTextToClipboard(text){navigator.clipboard?navigator.clipboard.writeText(text).then((function(){}),(function(err){console.error("Async: Could not copy text: ",err)})):fallbackCopyTextToClipboard(text)}copyFrom.onclick=()=>{""!=fromInput.value?(copyTextToClipboard(fromInput.value),copyFrom.querySelector(".side_svg").innerHTML='<path fill="green" d="M18.9 35.7 7.7 24.5l2.15-2.15 9.05 9.05 19.2-19.2 2.15 2.15Z"/>',copyFrom.querySelector(".side_svg").classList.add("copied"),setTimeout(()=>{copyFrom.querySelector(".side_svg").innerHTML='<path d="M9 43.95q-1.2 0-2.1-.9-.9-.9-.9-2.1V10.8h3v30.15h23.7v3Zm6-6q-1.2 0-2.1-.9-.9-.9-.9-2.1v-28q0-1.2.9-2.1.9-.9 2.1-.9h22q1.2 0 2.1.9.9.9.9 2.1v28q0 1.2-.9 2.1-.9.9-2.1.9Zm0-3h22v-28H15v28Zm0 0v-28 28Z"></path>',copyFrom.querySelector(".side_svg").classList.remove("copied")},2e3)):(copyFrom.querySelector(".side_svg").innerHTML='<path fill="#ef5350" d="m12.45 37.65-2.1-2.1L21.9 24 10.35 12.45l2.1-2.1L24 21.9l11.55-11.55 2.1 2.1L26.1 24l11.55 11.55-2.1 2.1L24 26.1Z"/>',copyFrom.querySelector(".side_svg").classList.add("copied"),setTimeout(()=>{copyFrom.querySelector(".side_svg").innerHTML='<path d="M9 43.95q-1.2 0-2.1-.9-.9-.9-.9-2.1V10.8h3v30.15h23.7v3Zm6-6q-1.2 0-2.1-.9-.9-.9-.9-2.1v-28q0-1.2.9-2.1.9-.9 2.1-.9h22q1.2 0 2.1.9.9.9.9 2.1v28q0 1.2-.9 2.1-.9.9-2.1.9Zm0-3h22v-28H15v28Zm0 0v-28 28Z"></path>',copyFrom.querySelector(".side_svg").classList.remove("copied")},2e3))},copyTo.onclick=()=>{""!=toOutput.value?(copyTextToClipboard(toOutput.value),copyTo.querySelector(".side_svg").innerHTML='<path fill="green" d="M18.9 35.7 7.7 24.5l2.15-2.15 9.05 9.05 19.2-19.2 2.15 2.15Z"/>',copyTo.querySelector(".side_svg").classList.add("copied"),setTimeout(()=>{copyTo.querySelector(".side_svg").innerHTML='<path d="M9 43.95q-1.2 0-2.1-.9-.9-.9-.9-2.1V10.8h3v30.15h23.7v3Zm6-6q-1.2 0-2.1-.9-.9-.9-.9-2.1v-28q0-1.2.9-2.1.9-.9 2.1-.9h22q1.2 0 2.1.9.9.9.9 2.1v28q0 1.2-.9 2.1-.9.9-2.1.9Zm0-3h22v-28H15v28Zm0 0v-28 28Z"></path>',copyTo.querySelector(".side_svg").classList.remove("copied")},2e3)):(copyTo.querySelector(".side_svg").innerHTML='<path fill="#ef5350" d="m12.45 37.65-2.1-2.1L21.9 24 10.35 12.45l2.1-2.1L24 21.9l11.55-11.55 2.1 2.1L26.1 24l11.55 11.55-2.1 2.1L24 26.1Z"/>',copyTo.querySelector(".side_svg").classList.add("copied"),setTimeout(()=>{copyTo.querySelector(".side_svg").innerHTML='<path d="M9 43.95q-1.2 0-2.1-.9-.9-.9-.9-2.1V10.8h3v30.15h23.7v3Zm6-6q-1.2 0-2.1-.9-.9-.9-.9-2.1v-28q0-1.2.9-2.1.9-.9 2.1-.9h22q1.2 0 2.1.9.9.9.9 2.1v28q0 1.2-.9 2.1-.9.9-2.1.9Zm0-3h22v-28H15v28Zm0 0v-28 28Z"></path>',copyTo.querySelector(".side_svg").classList.remove("copied")},2e3))},ttsFrom.onclick=()=>{let uFrom;ttsFrom.querySelector(".side_svg").classList.add("copied"),ttsFrom.querySelector(".side_svg").classList.add("speakanimate"),ttsFrom.querySelector(".side_svg").innerHTML='<path d="m40.05 32.75-2.5-2.5q2.4-2.55 3.675-5.225T42.5 18.45q0-3.9-1.275-6.575Q39.95 9.2 37.55 6.65l2.5-2.5q2.8 2.9 4.375 6.325Q46 13.9 46 18.45t-1.575 7.975Q42.85 29.85 40.05 32.75Zm-6.95-7.1-2.5-2.5q.9-1 1.4-2.125.5-1.125.5-2.575 0-1.45-.5-2.575-.5-1.125-1.4-2.125l2.5-2.5q1.3 1.4 2.1 3.275t.8 3.925q0 2.05-.8 3.925t-2.1 3.275Zm-15.1.3q-3.3 0-5.4-2.1-2.1-2.1-2.1-5.4 0-3.3 2.1-5.4 2.1-2.1 5.4-2.1 3.3 0 5.4 2.1 2.1 2.1 2.1 5.4 0 3.3-2.1 5.4-2.1 2.1-5.4 2.1ZM2 42v-4.7q0-1.9.95-3.225Q3.9 32.75 5.4 32q2.55-1.3 6.025-2.15Q14.9 29 18 29t6.55.85q3.45.85 6 2.15 1.5.75 2.475 2.075Q34 35.4 34 37.3V42Zm3-3h26v-1.7q0-.8-.425-1.475T29.35 34.7q-2.4-1.35-5.45-2.025Q20.85 32 18 32q-2.85 0-5.925.725Q9 33.45 6.6 34.7q-.7.35-1.15 1.075Q5 36.5 5 37.3Zm13-16.05q1.95 0 3.225-1.275Q22.5 20.4 22.5 18.45q0-1.95-1.275-3.225Q19.95 13.95 18 13.95q-1.95 0-3.225 1.275Q13.5 16.5 13.5 18.45q0 1.95 1.275 3.225Q16.05 22.95 18 22.95Zm0-4.5ZM18 39Z"/>',uFrom=new SpeechSynthesisUtterance(fromInput.value),uFrom.lang=selection[0].value,speechSynthesis.speak(uFrom),uFrom.onend=()=>{ttsFrom.querySelector(".side_svg").classList.remove("copied"),ttsFrom.querySelector(".side_svg").classList.remove("speakanimate"),ttsFrom.querySelector(".side_svg").innerHTML='<path d="M28 41.45v-3.1q4.85-1.4 7.925-5.375T39 23.95q0-5.05-3.05-9.05-3.05-4-7.95-5.35v-3.1q6.2 1.4 10.1 6.275Q42 17.6 42 23.95t-3.9 11.225Q34.2 40.05 28 41.45ZM6 30V18h8L24 8v32L14 30Zm21 2.4V15.55q2.75.85 4.375 3.2T33 24q0 2.85-1.65 5.2T27 32.4Zm-6-16.8L15.35 21H9v6h6.35L21 32.45ZM16.3 24Z"></path>'}},ttsTo.onclick=()=>{let uTo;ttsTo.querySelector(".side_svg").classList.add("copied"),ttsTo.querySelector(".side_svg").classList.add("speakanimate"),ttsTo.querySelector(".side_svg").innerHTML='<path d="m40.05 32.75-2.5-2.5q2.4-2.55 3.675-5.225T42.5 18.45q0-3.9-1.275-6.575Q39.95 9.2 37.55 6.65l2.5-2.5q2.8 2.9 4.375 6.325Q46 13.9 46 18.45t-1.575 7.975Q42.85 29.85 40.05 32.75Zm-6.95-7.1-2.5-2.5q.9-1 1.4-2.125.5-1.125.5-2.575 0-1.45-.5-2.575-.5-1.125-1.4-2.125l2.5-2.5q1.3 1.4 2.1 3.275t.8 3.925q0 2.05-.8 3.925t-2.1 3.275Zm-15.1.3q-3.3 0-5.4-2.1-2.1-2.1-2.1-5.4 0-3.3 2.1-5.4 2.1-2.1 5.4-2.1 3.3 0 5.4 2.1 2.1 2.1 2.1 5.4 0 3.3-2.1 5.4-2.1 2.1-5.4 2.1ZM2 42v-4.7q0-1.9.95-3.225Q3.9 32.75 5.4 32q2.55-1.3 6.025-2.15Q14.9 29 18 29t6.55.85q3.45.85 6 2.15 1.5.75 2.475 2.075Q34 35.4 34 37.3V42Zm3-3h26v-1.7q0-.8-.425-1.475T29.35 34.7q-2.4-1.35-5.45-2.025Q20.85 32 18 32q-2.85 0-5.925.725Q9 33.45 6.6 34.7q-.7.35-1.15 1.075Q5 36.5 5 37.3Zm13-16.05q1.95 0 3.225-1.275Q22.5 20.4 22.5 18.45q0-1.95-1.275-3.225Q19.95 13.95 18 13.95q-1.95 0-3.225 1.275Q13.5 16.5 13.5 18.45q0 1.95 1.275 3.225Q16.05 22.95 18 22.95Zm0-4.5ZM18 39Z"/>',uTo=new SpeechSynthesisUtterance(toOutput.value),uTo.lang=selection[1].value,speechSynthesis.speak(uTo),uTo.onend=()=>{ttsTo.querySelector(".side_svg").classList.remove("copied"),ttsTo.querySelector(".side_svg").classList.remove("speakanimate"),ttsTo.querySelector(".side_svg").innerHTML='<path d="M28 41.45v-3.1q4.85-1.4 7.925-5.375T39 23.95q0-5.05-3.05-9.05-3.05-4-7.95-5.35v-3.1q6.2 1.4 10.1 6.275Q42 17.6 42 23.95t-3.9 11.225Q34.2 40.05 28 41.45ZM6 30V18h8L24 8v32L14 30Zm21 2.4V15.55q2.75.85 4.375 3.2T33 24q0 2.85-1.65 5.2T27 32.4Zm-6-16.8L15.35 21H9v6h6.35L21 32.45ZM16.3 24Z"></path>'}};
