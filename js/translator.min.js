import{countries}from"https://baum21614-cdn.github.io/js/carray.js";const fromInput=document.getElementById("trlfrom"),toOutput=document.getElementById("trlto"),switchButton=document.getElementById("swlang"),selection=document.querySelectorAll(".def_select"),goButton=document.getElementById("gotranslate");selection.forEach((tag,id)=>{for(let country_code in countries){let selected;0==id&&"en-GB"==country_code?selected="selected":1==id&&"de-DE"==country_code&&(selected="selected");let optFill=`<option value="${country_code}" ${selected}>${countries[country_code]}</option>`;tag.insertAdjacentHTML("beforeend",optFill)}}),switchButton.onclick=()=>{let tmp=fromInput.value,tmpL=selection[0].value;fromInput.value=toOutput.value,selection[0].value=selection[1].value,selection[1].value=tmpL,toOutput.value=tmp},goButton.onclick=()=>{goButton.classList.add("load_submit");let request=fromInput.value,trFrom=selection[0].value,trTo=selection[1].value,tURL;fetch(`https://api.mymemory.translated.net/get?q=${request}&langpair=${trFrom}|${trTo}`).then(response=>response.json()).then(fetchedData=>{toOutput.value=fetchedData.responseData.translatedText,goButton.classList.remove("load_submit")})};const ttsFrom=document.getElementById("bt_ttsfrom"),ttsTo=document.getElementById("bt_ttsto"),copyFrom=document.getElementById("bt_copytxtfrom"),copyTo=document.getElementById("bt_copytxtto");copyFrom.onclick=()=>{navigator.clipboard.writeText(fromInput.value)},copyTo.onclick=()=>{navigator.clipboard.writeText(toOutput.value)},ttsFrom.onclick=()=>{let uFrom;uFrom=new SpeechSynthesisUtterance(fromInput.value),uFrom.lang=selection[0].value,speechSynthesis.speak(uFrom)},ttsTo.onclick=()=>{let uTo;uTo=new SpeechSynthesisUtterance(toOutput.value),uTo.lang=selection[1].value,speechSynthesis.speak(uTo)};
